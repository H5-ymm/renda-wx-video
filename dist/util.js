"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_moment=require("./npm/moment/moment.js"),_moment2=_interopRequireDefault(_moment),manglingFormatCardNumber=function(t){return t&&t.length>8?t.substring(0,4)+" "+"*".repeat(t.length-8).replace(/(.{4})/g,"\n        $1 ")+(t.length%4?" ":"")+t.slice(-4):t},validateIdCard=function(t){var e=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;return!!e.test(t)},checkMobile=function(t){var e=/^1[3456789]\d{9}$/;return!!e.test(t)},checkNum=function(t){var e=/^[1-9]\d*$/;return!!e.test(t)},getErrorTip=function(t){var e="联系客服人员：021-51991869，\n 微信：18621532378 QQ：529350865",n={title:"",subTitle:""};switch(t){case 6001:n.title="您还没有注册哦",n.subTitle="亲！您还不是团队成员或企业，请前往 www.rsd123.com 进行注册申请，\n或"+e;break;case 6002:n.title="仅允许团队成员查看",n.subTitle=e;break;case 6006:case 6010:n.title="账号审核中需要1-2工作日",n.subTitle=e;break;case 6007:n.title="您的团队审核未通过哦",n.subTitle=e;break;case 6008:n.title="团队信息未完善",n.subTitle="亲！您的团队信息未完善，请前往 www.rsd123.com 进行完善，\n或"+e;break;case 1009:n.title="您的团队账号被锁定",n.subTitle=e;break;default:n={title:"",subTitle:""}}return n},getImgUrl=function(t){return"https://d.rsd123.com/"+t},compressImg=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],{url:"",cWidth:0,cHeight:""});return new Promise(function(n,o){wx.getImageInfo({src:t,success:function(t){var o=this,r=t.width,i=t.height;r=300,i=200,e.cWidth=r+100,e.cHeight=i+100;var a=wx.createCanvasContext("canvas");a.drawImage(t.path,0,0,r,i),a.draw(!1,setTimeout(function(){wx.canvasToTempFilePath({canvasId:"canvas",destWidth:r,destHeight:i,success:function(t){console.log(t.tempFilePath),e.url=t.tempFilePath,n(e)},fail:function(t){console.log(t.errMsg)}},o)},100))},fail:function(t){console.log(t.errMsg)}})})},wxToast=function(t){return wx.showToast({title:t,icon:"none",duration:2e3})},wxNavigateTo=function(t){setTimeout(function(){wx.navigateTo({url:t})},300)},wxRedirectTo=function(t){setTimeout(function(){wx.redirectTo({url:t})},300)},wxSwitchTab=function(t){setTimeout(function(){wx.switchTab({url:t})},300)},wxReLaunch=function(t){setTimeout(function(){wx.reLaunch({url:t})},300)},getArray=function(t){var e=[];for(var n in t)e.push(t[n]);return e},getKeyValue=function(t){for(var e in t)"job_array"===e&&(t[e]=getArray(t[e]));return t},wxShowModal=function(t,e,n){return new Promise(function(o,r){wx.showModal({title:t||"操作提示",content:e,confirmText:n||"确定",cancelColor:"#666666",confirmColor:"#1890FF",success:function(t){t.confirm?o():t.cancel&&r()}})})},getList=function(t,e,n){var o=n||"YYYY-MM-DD";return t.map(function(t){var n=void 0,r=/^[0-9]+.?[0-9]*$/;return t[e]&&r.test(t[e])&&(n=!0),t[e]=n?_moment2.default.unix(t[e]).format(o):(0,_moment2.default)(t[e]).format(o),t})},isJSON=function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!==(void 0===e?"undefined":_typeof(e))||!e)}catch(t){return!1}},contactPhone=function(t){var e=t||"021-51991869";wx.showActionSheet({itemList:["拨打"+e],success:function(t){wx.makePhoneCall({phoneNumber:e})},fail:function(t){console.log(t.errMsg)}})},handleTime=function(t){var e=(0,_moment2.default)().startOf("day").format("X"),n=(0,_moment2.default)().endOf("day").format("x");return e<=t&&n>=t?"今天 "+_moment2.default.unix(t).format("HH:mm"):_moment2.default.unix(t).format("YYYY-MM-DD HH:mm")};module.exports={manglingFormatCardNumber:manglingFormatCardNumber,validateIdCard:validateIdCard,checkMobile:checkMobile,getErrorTip:getErrorTip,getImgUrl:getImgUrl,wxToast:wxToast,compressImg:compressImg,wxNavigateTo:wxNavigateTo,wxRedirectTo:wxRedirectTo,wxSwitchTab:wxSwitchTab,wxReLaunch:wxReLaunch,getArray:getArray,getKeyValue:getKeyValue,wxShowModal:wxShowModal,getList:getList,isJSON:isJSON,checkNum:checkNum,contactPhone:contactPhone,handleTime:handleTime};